import{importShared as o,__tla as rt}from"./__federation_fn_import-ofDdBDNE.js";import{a as E,_ as ot,b as nt,__tla as ut}from"./Card.vue_vue_type_script_setup_true_lang-C6_uo5E3.js";import{a as dt,b as it,_ as st,__tla as ct}from"./LocationBadge.vue_vue_type_script_setup_true_lang-BqAJP18j.js";let Xe,pt=Promise.all([(()=>{try{return rt}catch{}})(),(()=>{try{return ut}catch{}})(),(()=>{try{return ct}catch{}})()]).then(async()=>{const{createElementVNode:Ye,openBlock:et,createElementBlock:tt}=await o("vue");function at(e,d){return et(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[Ye("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}let R,Z,F,O,G,U,H,Q,W,X,Y,ee,D,te,ae,le,re,oe,ne,T,ue,de,ie,se,ce,j,S,$,pe,me,ve,z,ye,ge,fe,C,he,be,we,ke,xe,g,f,K,N,Ve,_e,Se,Ce,Ne,Be,Ee,$e,w,Ie,Le,qe,Ae,Fe,Oe,Ue,M,B,I,De,Te,je,ze,Ke,Me,L,k,x,J,q,A,P,m,Je,Pe,Re,Ze,Ge,V,lt,He;({defineComponent:R}=await o("vue")),{toDisplayString:Z,openBlock:F,createElementBlock:O,createCommentVNode:G,createElementVNode:U,renderSlot:H,normalizeClass:Q}=await o("vue"),W={class:"flex items-start"},X={key:0,class:"font-semibold"},Y={class:"overflow-y-auto text-xs"},{computed:ee}=await o("vue"),D=R({__name:"Callout",props:{title:{type:String,required:!1},color:{type:String,default:"red",validator:e=>["red","green"].includes(e)}},setup(e){const d=e,v=ee(()=>{const t="flex flex-col overflow-hidden rounded-lg border-l-4 p-4 mb-2 opacity-75",r=d.color==="red"?"bg-red-100 border-red-500 text-red-700":"bg-green-100 border-green-500 text-green-700";return`${t} ${r}`});return(t,r)=>(F(),O("div",{class:Q(v.value)},[U("div",W,[e.title?(F(),O("h4",X,Z(e.title),1)):G("",!0)]),U("p",Y,[H(t.$slots,"default")])],2))}}),{defineComponent:te}=await o("vue"),{createElementVNode:ae,openBlock:le,createElementBlock:re}=await o("vue"),oe={class:"relative w-full flex items-center min-w-[100px] outline-none rounded-md transition duration-100 border bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600"},ne=["id","type","name","placeholder","disabled","value"],T=te({__name:"TextInput",props:{id:{type:String,required:!1},type:{type:String,default:"text"},name:{type:String,required:!1},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:d}){return(v,t)=>(le(),re("div",oe,[ae("input",{id:e.id,type:e.type,name:e.name,placeholder:e.placeholder,disabled:e.disabled,value:e.modelValue,onInput:t[0]||(t[0]=r=>v.$emit("update:modelValue",r.target.value)),class:"w-full bg-transparent focus:outline-none focus:ring-0 border-none text-sm rounded-lg transition duration-100 py-2 text-gray-900 dark:text-white pr-3 pl-3 placeholder-gray-400 dark:placeholder-gray-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,40,ne)]))}}),{defineComponent:ue}=await o("vue"),{withModifiers:de,withKeys:ie,createVNode:se,renderList:ce,Fragment:j,openBlock:S,createElementBlock:$,createBlock:pe,createElementVNode:me}=await o("vue"),ve={class:"mt-2 space-x-1 space-y-1"},{ref:z}=await o("vue"),ye=ue({__name:"AddInterests",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,t=d,r=z(v.modelValue.filter(s=>s!="")),a=z("");function i(){r.value.includes(a.value)||(r.value.push(a.value),a.value="",t("update:modelValue",r.value))}function p(s){r.value=r.value.filter(n=>n!=s),t("update:modelValue",r.value)}return(s,n)=>(S(),$(j,null,[se(T,{type:"text",name:"interest",autoComplete:"interest",placeholder:"Add some interests",onKeydown:ie(de(i,["prevent"]),["enter"]),modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=u=>a.value=u)},null,8,["onKeydown","modelValue"]),me("div",ve,[(S(!0),$(j,null,ce(r.value,u=>(S(),$("span",null,[(S(),pe(dt,{key:u,title:u,remove:()=>p(u)},null,8,["title","remove"]))]))),256))])],64))}}),{defineComponent:ge}=await o("vue"),{vModelText:fe,createElementVNode:C,withDirectives:he,unref:be,createVNode:we,renderList:ke,Fragment:xe,openBlock:g,createElementBlock:f,toDisplayString:K,createCommentVNode:N,renderSlot:Ve}=await o("vue"),_e=["name","placeholder"],Se={class:"absolute inset-y-0 right-0 flex gap-2 items-center pr-2"},Ce={key:0,class:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md shadow-lg",id:"select-options"},Ne={class:"max-h-60 overflow-y-auto"},Be=["onClick"],Ee={key:0},$e={key:0,class:"px-4 py-2 text-gray-500"},{ref:w,onMounted:Ie,onUnmounted:Le,watch:qe}=await o("vue"),Ae=ge({__name:"Search",props:{findOptions:{type:Function,required:!0},placeholder:{type:String,default:"Search"},name:{type:String,required:!0},modelValue:{type:[String,Object],default:""}},emits:["update:modelValue","selected"],setup(e,{emit:d}){const v=e,t=w(""),r=w(null),a=w(!1),i=w([]),p=w(null),s=d,n=async()=>{if(t.value.length<3)return i.value=[];i.value=await v.findOptions(t.value)},u=()=>{a.value=!0},y=()=>{a.value=!1},c=()=>{u()},l=h=>{r.value=h,t.value="",s("update:modelValue",h),s("selected",h),y()},_=h=>{p.value&&!p.value.contains(h.target)&&y()};return Ie(()=>{document.addEventListener("mousedown",_)}),Le(()=>{document.removeEventListener("mousedown",_)}),qe(t,()=>{n()}),(h,Qe)=>(g(),f("div",{class:"relative w-full",ref_key:"selectContainer",ref:p},[he(C("input",{"onUpdate:modelValue":Qe[0]||(Qe[0]=b=>t.value=b),type:"text",name:e.name,placeholder:e.placeholder,onFocus:u,onInput:c,class:"w-full rounded-md border p-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 bg-white dark:bg-gray-950 hover:bg-gray-50 dark:hover:bg-gray-950/50 focus:ring-2 focus:ring-blue-200 focus:border-blue-500 dark:focus:ring-blue-700 dark:focus:border-blue-700"},null,40,_e),[[fe,t.value]]),C("div",Se,[we(be(at),{class:"size-4 text-gray-400"})]),a.value?(g(),f("div",Ce,[C("ul",Ne,[(g(!0),f(xe,null,ke(i.value,b=>{var We;return g(),f("li",{key:b.id,onClick:mt=>l(b),class:"cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100"},[C("span",null,K(b.title),1),b.parent?(g(),f("span",Ee," ("+K((We=b.parent)==null?void 0:We.title)+") ",1)):N("",!0)],8,Be)}),128)),i.value.length===0?(g(),f("li",$e," No search results ")):N("",!0),i.value.length===0?Ve(h.$slots,"default",{key:1}):N("",!0)])])):N("",!0)],512))}}),{defineComponent:Fe}=await o("vue"),{createVNode:Oe,renderList:Ue,Fragment:M,openBlock:B,createElementBlock:I,createBlock:De,createElementVNode:Te}=await o("vue"),je={class:"mt-2 space-x-1 space-y-1"},{ref:ze}=await o("vue"),Ke=Fe({__name:"AddLocations",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,t=d,r="//localhost:3000",a=ze(v.modelValue),i=async n=>{try{return(await E.get(`${r}/api/location?title=${n}`)).data}catch(u){console.error(u)}},p=n=>{a.value.includes(n)||(a.value.push(n),t("update:modelValue",a.value))},s=n=>{a.value=a.value.filter(u=>u!=n),t("update:modelValue",a.value)};return(n,u)=>(B(),I(M,null,[Oe(Ae,{placeholder:"Add some locations ...",name:"selectedItem",findOptions:i,onSelected:p}),Te("div",je,[(B(!0),I(M,null,Ue(a.value,y=>(B(),I("span",null,[(B(),De(it,{key:y.id,title:y.title,remove:()=>s(y)},null,8,["title","remove"]))]))),256))])],64))}}),{defineComponent:Me}=await o("vue"),{createTextVNode:L,withCtx:k,createVNode:x,toDisplayString:J,openBlock:q,createBlock:A,createCommentVNode:P,createElementVNode:m,withModifiers:Je}=await o("vue"),Pe={class:"w-full"},Re={className:"mb-2"},Ze={class:"mb-2"},Ge={class:"mb-2"},{ref:V,inject:lt,onMounted:He}=await o("vue"),Xe=Me({__name:"ChatCreateView",props:{interest:{type:String,default:""},location:{type:String,default:""}},setup(e){const d=e,v="//localhost:3001",t="//localhost:3000",r=V(null),a=V([]),i=V([]),p=V(""),s=V(""),n=async c=>{try{return(await E.get(`${t}/api/interest/byId/${c}`)).data}catch(l){console.error(l)}},u=async c=>{try{return(await E.get(`${t}/api/location/byId/${c}`)).data}catch(l){console.error(l)}},y=async()=>{try{if(p.value.length)return;const c=new FormData(r.value??void 0);c.append("interests",JSON.stringify(a.value)),c.append("locations",JSON.stringify(i.value));const l=await E.post("/api/chat",c);return p.value="The chat room was created successfully!",l.data}catch(c){console.error(c),s.value=c.response.data}};return He(async()=>{d.interest.length&&a.value.push(await n(d.interest)),d.location.length&&i.value.push(await u(d.location))}),E.defaults.baseURL=v,(c,l)=>(q(),A(ot,null,{default:k(()=>[m("div",Pe,[x(nt,{className:"space-y-4"},{default:k(()=>[x(st,null,{default:k(()=>l[2]||(l[2]=[L(" Creating a new chat room: ")])),_:1}),m("form",{ref_key:"form",ref:r,onSubmit:Je(y,["prevent"])},[p.value?(q(),A(D,{key:0,color:"green"},{default:k(()=>[L(J(p.value),1)]),_:1})):P("",!0),s.value?(q(),A(D,{key:1,color:"red"},{default:k(()=>[L(J(s.value),1)]),_:1})):P("",!0),m("div",Re,[l[3]||(l[3]=m("label",{for:"title",class:"block text-gray-900 dark:text-gray-100 font-medium text-sm mb-2"}," Chat room title ",-1)),x(T,{type:"text",id:"title",name:"title",autoComplete:"title",placeholder:"The chat room title"})]),m("div",Ze,[l[4]||(l[4]=m("label",{for:"interests",class:"block text-gray-900 dark:text-gray-100 font-medium text-sm mb-2"}," Interests ",-1)),x(ye,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=_=>a.value=_)},null,8,["modelValue"])]),m("div",Ge,[l[5]||(l[5]=m("label",{for:"locations",class:"block text-gray-900 dark:text-gray-100 font-medium text-sm mb-2"}," Locations ",-1)),x(Ke,{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=_=>i.value=_)},null,8,["modelValue"])]),l[6]||(l[6]=m("div",{class:"mt-2 space-x-2"},[m("button",{type:"submit",class:"px-4 py-2 rounded font-semibold transition-colors duration-200 bg-green-500 hover:bg-green-600 text-white"}," Create ")],-1))],544)]),_:1})])]),_:1}))}})});export{Xe as _,pt as __tla};
